(this["webpackJsonpmy-test-simbirsoft"]=this["webpackJsonpmy-test-simbirsoft"]||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);a(12);var n=a(1),r=a.n(n),c=a(10),s=a.n(c),i=a(3),o=a.n(i),l=a(7),m="d1172b57700b4df29bba15452110f918",u=a(4),d=a(2),h=a(0);var b=function(){return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)("h1",{className:"h1Home",children:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0435\u0440\u0435\u0442\u044c \u043c\u0430\u0442\u0447\u0438 \u0432\u0435\u0434\u0443\u0449\u0438\u0445 \u0435\u0432\u0440\u043e\u043f\u0435\u0439\u0441\u043a\u0438\u0445 \u043a\u043e\u043c\u0430\u043d\u0434 \u0438 \u0441\u043e\u0440\u0435\u0432\u043d\u0430\u0432\u0430\u043d\u0438\u0439. \u041d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c \u0432 \u043c\u0438\u043d\u0443\u0442\u0443, \u044d\u0442\u043e \u043e\u0431\u0443\u0441\u043b\u043e\u0432\u043b\u0435\u043d\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e api."}),Object(h.jsx)(u.b,{to:"teams",className:"homeLink",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u0430\u043d\u0434"}),Object(h.jsx)(u.b,{to:"competitions",className:"homeLink",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u0439"})]})},j=a(5);var p=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1],s=Object(u.c)(),i=Object(j.a)(s,2),m=i[0],d=i[1],b=m.get("post")||"";function p(){return(p=Object(l.a)(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPrimaryData(0);case 2:for(a=t.sent,n=[],r=0;r<a.length;r++)new RegExp("\\b"+b,"i").test(a[r].name)&&n.push(a[r]);return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){var e=document.getElementById("searchBlock").value;d({post:e})}return Object(n.useEffect)((function(){c(Object(h.jsx)("div",{className:"spinner spinner-1"})),function(){return p.apply(this,arguments)}().then((function(t){var a=t.map((function(t){return Object(h.jsx)("div",{className:"teamsLinkContainer",children:Object(h.jsxs)(u.b,{to:"".concat(t.id,"/").concat(t.name),className:"teamsLink",children:[Object(h.jsx)("img",{src:t.logo,className:"logoItem"}),t.name,Object(h.jsx)("div",{className:"logoItem shadowLogo"})]},e.getKey())},e.getKey())}));c(a)}))}),[b]),Object(h.jsxs)("div",{className:"Teams",children:[Object(h.jsxs)("div",{className:"searchBlock",children:[Object(h.jsx)("input",{className:"form-control searchLine",type:"search",placeholder:"","aria-label":"Search",id:"searchBlock",defaultValue:b}),Object(h.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm buttonSearch",onClick:function(){return v()},children:"\u041f\u043e\u0438\u0441\u043a"}),Object(h.jsx)("button",{type:"button",className:"\r btn\r btn-outline-danger\r btn-sm \r buttonSearch\r buttonSearchDisable\r ",onClick:function(){document.getElementById("searchBlock").value="",v()},children:"\u0421\u0431\u0440\u043e\u0441"})]}),Object(h.jsx)("div",{className:"containerTeams",children:Object(h.jsx)("div",{className:"teamsList",children:r})})]})};var v=function(e){var t=Object(n.useState)(null),a=Object(j.a)(t,2),r=a[0],c=a[1],s=Object(u.c)(),i=Object(j.a)(s,2),m=i[0],d=i[1],b=m.get("post")||"";function p(){return(p=Object(l.a)(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPrimaryData(1);case 2:for(a=t.sent,n=[],r=0;r<a.length;r++)new RegExp("\\b"+b,"i").test(a[r].name)&&n.push(a[r]);return t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){var e=document.getElementById("searchBlock").value;d({post:e}),sessionStorage.setItem("strSearch",e)}return Object(n.useEffect)((function(){(function(){return p.apply(this,arguments)})().then((function(t){var a=t.map((function(t){return Object(h.jsx)("div",{className:"teamsLinkContainer",children:Object(h.jsxs)(u.b,{to:"".concat(t.id,"/").concat(t.name),className:"teamsLink",children:[Object(h.jsx)("img",{src:t.logo,className:"logoItem"}),t.name,Object(h.jsx)("div",{className:"logoItem shadowLogo"})]},e.getKey())})}));c(a)}))}),[b]),Object(h.jsxs)("div",{className:"Teams",children:[Object(h.jsxs)("div",{className:"searchBlock",children:[Object(h.jsx)("input",{className:"form-control searchLine",type:"search",placeholder:"","aria-label":"Search",id:"searchBlock",defaultValue:b}),Object(h.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm buttonSearch",onClick:function(){return v()},children:"\u041f\u043e\u0438\u0441\u043a"}),Object(h.jsx)("button",{type:"button",className:"\r btn\r btn-outline-danger\r btn-sm \r buttonSearch\r buttonSearchDisable\r ",onClick:function(){document.getElementById("searchBlock").value="",v()},children:"\u0421\u0431\u0440\u043e\u0441"})]}),Object(h.jsx)("div",{className:"containerTeams",children:Object(h.jsx)("div",{className:"teamsList",children:r})})]})},f=a(11);var O=function(e){var t="",a="";return"HOME_TEAM"==e.dataMatch.winner?(t="winner",a="loser"):"AWAY_TEAM"==e.dataMatch.winner?(t="loser",a="winner"):"DRAW"==e.dataMatch.winner&&(t="draw",a="draw"),Object(h.jsxs)("div",{className:"matchTile",children:[Object(h.jsxs)("div",{className:"informLine",children:[Object(h.jsx)("div",{className:"pDate",children:"\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f:"}),e.dataMatch.date.substring(0,10)]}),function(){if("0"==e.radioSaved)return Object(h.jsx)("div",{className:"competitionLine",children:e.dataMatch.competition.name})}(),Object(h.jsxs)("div",{className:"teamLine",children:[Object(h.jsx)("div",{className:"homeTeam "+t,children:e.dataMatch.homeTeam.name}),"FINISHED"==e.dataMatch.status?Object(h.jsxs)("div",{className:"score",children:[Object(h.jsx)("div",{children:e.dataMatch.homeTeam.score}),":",Object(h.jsx)("div",{children:e.dataMatch.awayTeam.score})]}):Object(h.jsxs)("div",{className:"score",children:[Object(h.jsx)("div",{children:"-"}),":",Object(h.jsx)("div",{children:"-"})]}),Object(h.jsx)("div",{className:"awayTeam "+a,children:e.dataMatch.awayTeam.name})]})]})};var x=function(e){var t=Object(d.f)(),a=Object(n.useState)([]),r=Object(j.a)(a,2),c=r[0],s=r[1];function i(e){"errorLimit"==e?(alert("\u0412\u044b \u043f\u0440\u0438\u0432\u044b\u0441\u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u043c\u0438\u043d\u0443\u0442\u0443. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 1 \u043c\u0438\u043d\u0443\u0442\u0443, \u0437\u0430\u0442\u0435\u043c \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443."),t(-1)):sessionStorage.setItem("dataMatches",JSON.stringify(e))}function m(){return(m=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=[],null!=e.id){t.next=5;break}return t.abrupt("return",null);case 5:if(sessionStorage.saveName!=e.saveName){t.next=9;break}a=JSON.parse(sessionStorage.dataMatches),t.next=21;break;case 9:if(0!=e.radioSaved){t.next=16;break}return t.next=12,e.rTeamsMatches(e.id);case 12:i(a=t.sent),t.next=21;break;case 16:if(1!=e.radioSaved){t.next=21;break}return t.next=19,e.rCompetitionsMatches(e.id);case 19:i(a=t.sent);case 21:return t.abrupt("return",a);case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.useMemo)((function(){s(Object(h.jsx)("div",{className:"spinner spinner-1"})),function(){return m.apply(this,arguments)}().then((function(t){!function(t,a,n){if(null!=t){if("errorLimit"!=t){var r=[];if("Invalid Date"==a)r=t;else if("Invalid Date"==n)r=t;else for(var c=0;c<t.length;c++){var i=new Date(t[c].date);i.getTime()>a.getTime()&&i.getTime()<n.getTime()&&r.push(t[c])}0==r.length?s(Object(h.jsx)("div",{className:"matchAlert",children:"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u043c\u0430\u0442\u0447\u0430\u043c"})):s(r.map((function(t){return Object(h.jsx)(O,{dataMatch:t,radioSaved:e.radioSaved,getKey:e.getKey},e.getKey())})))}}else s([])}(t,e.dateFrom,e.dateTo),sessionStorage.setItem("saveName",e.saveName)}))}),[e.dateTo,e.dateFrom]),Object(h.jsx)("div",{className:"containerMatchList",id:"matchList",children:Object(h.jsx)("div",{className:"matchContainer",children:c})})};var g=function(e){var t=Object(u.c)(),a=Object(j.a)(t,2),r=a[0],c=a[1],s=r.get("from")||"Invalid Date",i=r.get("to")||"Invalid Date";"string"==typeof s&&(s=new Date(Number(s))),"string"==typeof i&&(i=new Date(Number(i)));var o,l="",m="";if("Invalid Date"==s||"Invalid Date"==i)s="Invalid Date",i="Invalid Date";else{s=new Date(Number(s)),i=new Date(Number(i));var b=s.getFullYear(),p=s.getMonth()+1;p<10&&(p="0".concat(p));var v=s.getDate();v<10&&(v="0".concat(v));var O=i.getFullYear(),g=i.getMonth()+1;g<10&&(g="0".concat(g));var y=i.getDate();y<10&&(y="0".concat(y)),l="".concat(b,"-").concat(p,"-").concat(v),m="".concat(O,"-").concat(g,"-").concat(y)}function N(){var e=new Date(document.getElementById("dateFrom").value),t=new Date(document.getElementById("dateTo").value);if(!(e>t))return"Invalid Date"!=e&&"Invalid Date"!=t?(c({from:e.getTime(),to:t.getTime()}),void(document.getElementById("matchList").scrollTop=0)):void("Invalid Date"==e&&"Invalid Date"==t||alert("\u041d\u0443\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043e\u0431\u0435 \u0434\u0430\u0442\u044b"));alert("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u043a")}return Object(n.useEffect)((function(){document.getElementById("dateFrom").setAttribute("value",l),document.getElementById("dateTo").setAttribute("value",m)}),[]),0==e.type?o="\u041c\u0430\u0442\u0447\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b ":1==e.type&&(o="\u041c\u0430\u0442\u0447\u0438 \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u044f "),Object(h.jsxs)("div",{className:"matchList",children:[Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"typeMatch",id:"typeMatch",children:[o,Object(d.g)().nameList]}),Object(h.jsx)("div",{className:"toolBar",children:Object(h.jsxs)("div",{className:"filter",children:[Object(h.jsxs)("div",{className:"containerSearch",children:[Object(h.jsx)("div",{className:"met",children:"c:"}),Object(h.jsx)("input",{type:"date",className:"dateInput",id:"dateFrom",defaultValue:l})]}),Object(h.jsxs)("div",{className:"containerSearch",children:[Object(h.jsx)("div",{className:"met",children:"\u043f\u043e:"}),Object(h.jsx)("input",{type:"date",className:"dateInput",id:"dateTo",defaultValue:m})]}),Object(h.jsxs)("div",{className:"containerSearch btnSearch",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-outline-primary buttonSearch",onClick:function(){return N()},children:"\u041e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(h.jsx)("button",{type:"button",className:"buttonDanger btn btn-outline-danger",onClick:function(){return document.getElementById("dateFrom").value="Invalid Date",document.getElementById("dateTo").value="Invalid Date",c({from:"Invalid Date",to:"Invalid Date"}),N(),void(document.getElementById("matchList").scrollTop=0)},children:"\u0421\u0431\u0440\u043e\u0441"})]})]})})]}),Object(h.jsx)(x,Object(f.a)({getKey:e.getKey,radioSaved:e.type,id:Object(d.g)().id,saveName:Object(d.g)().nameList,dateFrom:s,dateTo:i,rCompetitionsMatches:e.rCompetitionsMatches,rTeamsMatches:e.rTeamsMatches,nameSecondList:e.nameSecondList},"getKey",e.getKey))]})};var y=function(){var e=Object(n.useRef)(0);function t(){return e.current++,e.current}function a(){return r.apply(this,arguments)}function r(){return(r=Object(l.a)(o.a.mark((function e(){var t,a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.football-data.org/v2/competitions?plan=TIER_ONE",{headers:{"X-Auth-Token":m}}).then((function(e){return e.json()}));case 2:for(t=(t=e.sent).competitions,a=[],r=0;r<t.length;r++)n=null!=t[r].emblemUrl?t[r].emblemUrl:null!=t[r].area.ensignUrl?t[r].area.ensignUrl:"https://upload.wikimedia.org/wikipedia/commons/2/2f/Flag_of_the_United_Nations.svg",c={name:t[r].name,id:t[r].id,logo:n},a.push(c);return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return s.apply(this,arguments)}function s(){return(s=Object(l.a)(o.a.mark((function e(){var t,a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.football-data.org/v2/teams?plan=TIER_ONE",{headers:{"X-Auth-Token":m}}).then((function(e){return e.json()}));case 2:for(t=(t=e.sent).teams,a=[],n=0;n<t.length;n++)r={name:t[n].name,id:t[n].id,logo:t[n].crestUrl},a.push(r);return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(o.a.mark((function e(t){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,fetch("https://api.football-data.org/v2/teams/".concat(t,"/matches"),{headers:{"X-Auth-Token":m}}).then((function(e){return e.json()}));case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),n="errorLimit",e.abrupt("return",n);case 11:for(a=a.matches,r=0;r<a.length;r++)c={status:a[r].status,date:a[r].utcDate,winner:a[r].score.winner,competition:{name:a[r].competition.name,id:a[r].competition.id},homeTeam:{name:a[r].homeTeam.name,id:a[r].homeTeam.id,score:a[r].score.fullTime.homeTeam+a[r].score.extraTime.homeTeam+a[r].score.penalties.homeTeam},awayTeam:{name:a[r].awayTeam.name,id:a[r].awayTeam.id,score:a[r].score.fullTime.awayTeam+a[r].score.extraTime.awayTeam+a[r].score.penalties.awayTeam}},n.push(c);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function f(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(t){var a,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,fetch("https://api.football-data.org/v2/competitions/".concat(t,"/matches"),{headers:{"X-Auth-Token":m}}).then((function(e){return e.json()}));case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),n="errorLimit",e.abrupt("return",n);case 11:for(a=a.matches,r=0;r<a.length;r++)c={status:a[r].status,date:a[r].utcDate,winner:a[r].score.winner,competition:{name:null,id:null},homeTeam:{name:a[r].homeTeam.name,id:a[r].homeTeam.id,score:a[r].score.fullTime.homeTeam+a[r].score.extraTime.homeTeam+a[r].score.penalties.homeTeam},awayTeam:{name:a[r].awayTeam.name,id:a[r].awayTeam.id,score:a[r].score.fullTime.awayTeam+a[r].score.extraTime.awayTeam+a[r].score.penalties.awayTeam}},n.push(c);return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function x(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(o.a.mark((function e(t){var n,r,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=(new Date).getTime(),void 0==localStorage.dataUpdateDate?s=864000001:(i=new Date(Number(localStorage.dataUpdateDate)).getTime(),s=l-i),!(void 0==localStorage.teamsList||void 0==localStorage.competitionsList||s>864e5)){e.next=15;break}return e.next=6,c();case 6:return n=e.sent,e.next=9,a();case 9:r=e.sent,localStorage.setItem("teamsList",JSON.stringify(n)),localStorage.setItem("competitionsList",JSON.stringify(r)),localStorage.setItem("dataUpdateDate",l),e.next=17;break;case 15:n=JSON.parse(localStorage.teamsList),r=JSON.parse(localStorage.competitionsList);case 17:if("0"!=t){e.next=22;break}return e.abrupt("return",n);case 22:if("1"!=t){e.next=24;break}return e.abrupt("return",r);case 24:case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light ",children:[Object(h.jsx)(u.b,{to:"/",className:"headerLink nav-link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(h.jsx)(u.b,{to:"/teams",className:"headerLink nav-link",children:"\u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(h.jsx)(u.b,{to:"/competitions",className:"headerLink nav-link",children:"\u0421\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u044f"})]}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:"/",element:Object(h.jsx)(b,{})}),Object(h.jsx)(d.a,{path:"/teams",element:Object(h.jsx)(p,{getPrimaryData:x,getKey:t})}),Object(h.jsx)(d.a,{path:"/competitions",element:Object(h.jsx)(v,{getPrimaryData:x,getKey:t})}),Object(h.jsx)(d.a,{path:"/teams/:id/:nameList",element:Object(h.jsx)(g,{type:0,getKey:t,rTeamsMatches:i,rCompetitionsMatches:f})}),Object(h.jsx)(d.a,{path:"/competitions/:id/:nameList",element:Object(h.jsx)(g,{type:1,getKey:t,rTeamsMatches:i,rCompetitionsMatches:f})})]})]})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,21)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(19);s.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(u.a,{children:Object(h.jsx)(y,{})})}),document.getElementById("root")),N()}},[[20,1,2]]]);
//# sourceMappingURL=main.7ddcc30e.chunk.js.map